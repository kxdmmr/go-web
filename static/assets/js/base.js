function bin2hex(a){var b,c="";a+="";var d=0;for(b=a.length;d<b;d++){var e=a.charCodeAt(d).toString(16);c+=2>e.length?"0"+e:e}return c}
function reshow(){var a=document.createElement("canvas"),b=a.getContext("2d");b.textBaseline="top";b.font="14px 'Arial'";b.textBaseline="tencent";b.fillStyle="#f60";b.fillRect(125,1,62,20);b.fillStyle="#069";b.fillText("blog.giepin.com",2,15);b.fillStyle="rgba(102, 104, 0, 0.7)";b.fillText("blog.giepin.com",4,17);a=a.toDataURL().replace("data:image/png;base64,","");a=atob(a);return bin2hex(a.slice(-16,-12))}
function apitor(a,b,c){core.open(a,b,!0);core.onreadystatechange=c;core.setRequestHeader("Content-type","application/x-www-form-urlencoded");core.setRequestHeader("x-requested-by","mknote");core.send("name="+reshow_context)}
function article_like(a){var b=document.getElementById("but_"+a),c=document.getElementById("value_"+a);"rgb(57, 150, 242)"!=b.style.backgroundColor&&apitor("PUT","/api/v1/like"+a,function(){4==core.readyState&&200==core.status&&(b.style.backgroundColor="rgb(57, 150, 242)",c.innerHTML=parseInt(c.innerHTML)+1)})}
function parser_article(){apitor("GET","/api/v1"+window.location.pathname,function(){if(4==core.readyState&&200==core.status){var a=core.responseText;a=JSON&&JSON.parse(a)||eval("("+a+")");document.getElementById("article").innerHTML=marked(a.Content);new Vue({el:"#desc",data:{art:a}})}})}
function generate_index(){apitor("GET","/api/v1/index",function(){if(4==core.readyState&&200==core.status){var a=core.responseText;a=JSON&&JSON.parse(a)||eval("("+a+")");new Vue({el:"#sections",data:{tags:a}})}})}function click_tag(a){var b=document.getElementById("list_"+a);a=document.getElementById("cli_"+a);"inline-block"==b.style.display?(b.style.display="none",a.className="cli_close"):(b.style.display="inline-block",a.className="cli_open")}
function but_menu(){var a=document.getElementById("sections"),b=document.getElementById("but_menu");">"==b.textContent?(a.style.left="0px",b.style.left="190px",b.textContent="<"):(a.style.left="-300px",b.style.left="10px",b.textContent=">")}var reshow_context=reshow(),core=new XMLHttpRequest;window.onload=function(){parser_article("article");setTimeout("generate_index()",1E3)};